# 函数
## 函数基础
- 所谓函数，就是把 **具有独立功能的代码块** 组织为一个小模块，在需要的时候 **调用**  
- 函数的使用包含两个步骤：  
    1. 定义函数 —— 封装 独立的功能
    2. 调用函数 —— 享受 封装 的成果
- 函数的作用，在开发程序时，使用函数可以提高编写的效率以及代码的 重用
### 函数基本使用
#### 函数的定义
定义函数的格式如下
```python
def 函数名():

    函数封装的代码
    ……
```
- def 是英文 define 的缩写
- 函数名称 应该能够表达 函数封装代码 的功能，方便后续的调用
- 函数名称 的命名应该 符合 标识符的命名规则
    - 可以由 字母、下划线 和 数字 组成
    - 不能以数字开头
    - 不能与关键字重名
#### 函数调用
通过 **函数名()** 即可完成对函数的调用

```python
name = "小明"

# 解释器知道这里定义了一个函数
def say_hello():
    print("hello 1")
    print("hello 2")
    print("hello 3")

print(name)
# 只有在调用函数时，之前定义的函数才会被执行
# 函数执行完成之后，会重新回到之前的程序中，继续执行后续的代码
say_hello()

print(name)
```

### 函数的参数
#### 参数的作用
- 函数，把 具有独立功能的代码块 组织为一个小模块，在需要的时候 调用
- 函数的参数，增加函数的 通用性，针对 相同的数据处理逻辑，能够 适应更多的数据
    1. 在函数 **内部**，把参数当做 **变量** 使用，进行需要的数据处理
    2. 函数调用时，按照函数定义的参数顺序，把 **希望在函数内部处理的数据，通过参数** 传递
```python
def sum_1_num():
    num1 = 30
    num2 = 20
    result = num1 + num2
    print("%d + %d = %d" % (num1, num2, result))

sum_1_num()
```
#### 形参和实参
- 形参：定义 函数时，小括号中的参数，是用来接收参数用的，在函数内部 **作为变量使用**
- 实参：调用 函数时，小括号中的参数，是用来把数据传递到 **函数内部** 用的
```python
def sum_2_num(num3, num4):
    """函数内部参数"""
    result2 = num3 + num4
    print("%d + %d = %d" % (num3, num4, result2))

sum_2_num(10, 13)
```

### 函数的返回值
- 有时候，会希望 一个函数执行结束后，告诉调用者一个结果，以便调用者针对具体的结果做后续的处理
- 返回值 是函数 完成工作后，最后 给调用者的 一个结果
- 在函数中使用 return 关键字可以返回结果
- 调用函数一方，可以 使用变量 来 接收 函数的返回结果
> 注意：return 表示返回，后续的代码都不会被执行
```python
def sum_3_num(num5, num6):
    """对两个数字求和"""
    result3 = num5 + num6

    # 可以使用返回值，告诉调用函数一方计算的结果
    return result3
    # return表示返回，后续的代码都不会被执行
sum_result3 = sum_3_num(40, 50)
print("计算结果：%d" % sum_result3)
```
### 函数的嵌套调用
- 一个函数里面 又调用 了 另外一个函数，这就是 函数嵌套调用
- 如果函数 test2 中，调用了另外一个函数 test1
    1. 那么执行到调用 test1 函数时，会先把函数 test1 中的任务都执行完
    2. 才会回到 test2 中调用函数 test1 的位置，继续执行后续的2码
```python
def test1():
    print("*" * 50)
    print("test 1")
    print("*" * 50)

def test2():
    print("-" * 50)
    print("test 2")
    
    test1()
    
    print("-" * 50)

test2()
```

#### 函数嵌套 - 打印分隔线
```python
def print_line(char,times):
	print(char * times)

def print_lines(char,times):
	"""打印多行分割线"""
	row = 0
	while row < 5:
		print_line(char,times)
		row += 1
print_lines("-",5)
```

### 使用模块中的函数
**模块是 Python 程序架构的一个核心概念**

- 模块 就好比是 工具包，要想使用这个工具包中的工具，就需要 导入 import 这个模块
- 每一个以扩展名 py 结尾的 Python 源代码文件都是一个 模块
- 在模块中定义的 全局变量 、 函数 都是模块能够提供给外界直接使用的工具
```python
# 模块
def print_line(char,times):
    	print(char * times)

def print_lines(char,times):
	"""打印多行分割线"""
	row = 0
	while row < 5:
		print_line(char,times)
		row += 1

name = "蔡瓅儿"

# 调用模块
import mk

mk.print_line("-", 5)
print(mk.name)
```
### 模块名也是一个标识符
- 标示符可以由 字母、下划线 和 数字 组成
- 不能以数字开头
- 不能与关键字重名
### Pyc 文件
C 是 compiled 编译过 的意思

操作步骤
1. 浏览程序目录会发现一个 __pycache__ 的目录
2. 目录下会有一个 hm_10_分隔线模块.cpython-35.pyc 文件，cpython-35 表示 Python 解释器的版本
3. 这个 pyc 文件是由 Python 解释器将 模块的源码 转换为 字节码
    - Python 这样保存 字节码 是作为一种启动 速度的优化

字节码
- Python 在解释源程序时是分成两个步骤的
    1. 首先处理源代码，编译 生成一个二进制 字节码
    2. 再对 字节码 进行处理，才会生成 CPU 能够识别的 机器码
- 有了模块的字节码文件之后，下一次运行程序时，如果在 上次保存字节码之后 没有修改过源代码，Python 将会加载 .pyc 文件并跳过编译这个步骤
- 当 Python 重编译时，它会自动检查源文件和字节码文件的时间戳
- 如果你又修改了源代码，下次程序运行时，字节码将自动重新创建


